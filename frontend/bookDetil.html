<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=search" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <title>Ranch Book</title>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=more_horiz" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=more_horiz" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=add_2" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=add_2" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"
        integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <div class="container">
        <nav>
            <img src="./images/logo.svg" alt="">
            <div class="navRight">
                <button><a href="/frontend/index.html">–ì–ª–∞–≤–Ω–æ–µ</a></button>
                <button><a href="/frontend/moyBooks.html">–ú–æ–∏ –∫–Ω–∏–≥–∏</a></button>
                <button><i class="fa-solid fa-magnifying-glass"></i></button>
            </div>
        </nav>
        <main class="bookDetailMain">
            <div class="bookImg">
                <img src="./images/book11.png" alt="">
            </div>
            <div class="bookInfos">
                <div class="bookInfos_texts">
                    <p><b>–í–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è –∏ –æ—Ç–∑—ã–≤—ã –æ –∫–Ω–∏–≥–µ –∞–≤—Ç–æ—Ä–∞¬† </b>–ê–ª–µ–∫—Å–µ–π –ê–ª—ë—Ö–∏–Ω</p>
                    <h3>–ú—è—Å–æ—Ä—É–±–∫–∞. –ö–∞–∫ –†–æ—Å—Å–∏—è –ø–æ–ª—é–±–∏–ª–∞ –∫—Ä–æ–≤–∞–≤—ã–π —Å–ø–æ—Ä—Ç</h3>
                    <div class="bookInfos_texts_buttons">
                        <button id="chitatBtn">–ß–∏—Ç–∞—Ç—å</button>
                        <button id="audioBtn">–ê—É–¥–∏–æ</button>
                        <button><i class="fa-solid fa-ellipsis"></i></button>
                        <button><i class="fa-solid fa-plus"></i></button>
                    </div>
                </div>
                <div class="gocomment">
                    <p>–£–∂–µ –ø—Ä–æ—á–∏—Ç–∞–ª–∏? –ß—Ç–æ —Å–∫–∞–∂–µ—Ç–µ?</p>
                    <div class="btns">
                        <button>üëç</button>
                        <button>üëé</button>
                    </div>
                </div>
                <div class="comments">
                    <p class="comments_title">–í–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è <b>3</b></p>
                    <div class="comments_boxes">
                        <div class="comments_boxes_box">
                            <div class="comments_boxes_box_head">
                                <img src="./images/user.png" alt="">
                                <b class="name">–ï–≤–≥–µ–Ω–∏–π –°.</b>
                                <p class="date">–¥–µ–ª–∏—Ç—Å—è –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ–º ‚Ä¢ 20 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥</p>
                            </div>
                            <div class="comment_emojes com">
                                <button class="emoji-button">üëç –°–æ–≤–µ—Ç—É—é</button>
                                <button class="emoji-button">üíß –î–æ —Å–ª–µ–∑</button>
                                <button class="emoji-button">üêº –ú–∏–ª–æ</button>
                            </div>
                            <p class="comments_boxes_box_comment">–¢–æ–ª—å–∫–æ —É –º–µ–Ω—è –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–π –∫–Ω–∏–≥–∏
                                –¥—Ä—É–≥–∞—è ¬´–í—Å–µ–º –ò—Ä–∞–Ω¬ª?</p>
                            <div class="comments_boxes_box_end">
                                <button><i class="fa-regular fa-heart"></i>–ù—Ä–∞–≤–∏—Ç—Å—è</button>
                                <button><i class="fa-solid fa-ellipsis"></i></button>
                            </div>
                        </div>
                        <div class="comments_boxes_box">
                            <div class="comments_boxes_box_head">
                                <img src="./images/user3.png" alt="">
                                <b class="name">819339 –ë–æ–±—Ä–æ–≤–∞</b>
                                <p class="date">–¥–µ–ª–∏—Ç—Å—è –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ–º ‚Ä¢ 20 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥</p>
                            </div>
                            <p class="comments_boxes_box_comment">–ù–µ –¥—É–º–∞—é —á—Ç–æ —ç—Ç–æ —á—Ç–æ —Å–µ–π—á–∞—Å –Ω—É–∂–Ω–æ,</p>
                            <div class="comments_boxes_box_end">
                                <button><i class="fa-regular fa-heart"></i>–ù—Ä–∞–≤–∏—Ç—Å—è</button>
                                <button><i class="fa-solid fa-ellipsis"></i></button>
                            </div>
                        </div>
                        <div class="comments_boxes_box">
                            <div class="comments_boxes_box_head">
                                <img src="./images/user2.png" alt="">
                                <b class="name">–°–¢–ê–ù–ò–°–õ–ê–í –ö–û–õ–û–î–û–í</b>
                                <p class="date">–¥–µ–ª–∏—Ç—Å—è –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ–º ‚Ä¢ 20 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥</p>
                            </div>
                            <p class="comments_boxes_box_comment">–ù–µ–ª—å–∑—è —Å–¥–∞–≤–∞—Ç—å—Å—è! –ù–∏–∫–æ–≥–¥–∞ –Ω–µ–ª—å–∑—è ) –º–Ω–µ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ
                                —ç—Ç–æ –≥–ª–∞–≤–Ω—ã–π –ø–æ—Å—ã–ª –≤ –∫–Ω–∏–≥–µ. –í —ç—Ç–æ–π –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ–π, –¥–æ–±—Ä–æ–π –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–æ–ª—å–∫–æ –æ–ø—Ç–∏–º–∏–∑–º–∞, —á—Ç–æ
                                –Ω–∞—á–∏–Ω–∞–µ—à—å —Ä—ã—Ç—å—Å—è –≤ —Å–µ–±–µ, –∏ –ø–æ–Ω–∏–º–∞—Ç—å –Ω–∞—Å–∫–æ–ª—å–∫–æ —É —Ç–µ–±—è –≤—Å–µ —Ö–æ—Ä–æ—à–æ –∏ –∫–∞–∫ –Ω–µ–ª–µ–≥–∫–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è
                                –¥—Ä—É–≥–∏–º. –î–∞–≤–∞–π—Ç–µ —Ü–µ–Ω–∏—Ç—å —Ç–æ —Ö–æ—Ä–æ—à–µ–µ, —á–µ–≥–æ —É –Ω–∞—Å, –Ω–∞ —Å–∞–º–æ–º —Ç–æ –¥–µ–ª–µ, –ø–æ–ª–Ω—ã–º –ø–æ–ª–Ω–æ )))</p>
                            <div class="comments_boxes_box_end">
                                <button><i class="fa-regular fa-heart"></i>–ù—Ä–∞–≤–∏—Ç—Å—è</button>
                                <button><i class="fa-solid fa-ellipsis"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bookStstus">
                <div>
                    <span>üëç</span>
                    <p>–°–æ–≤–µ—Ç—É—é</p>
                    <span>13</span>
                </div>
                <div>
                    <span>üí©</span>
                    <p>–§—É—É—É—É</p>
                    <span>1</span>
                </div>
                <div>
                    <span>üíß</span>
                    <p>–î–æ —Å–ª–µ–∑</p>
                    <span>1</span>
                </div>
            </div>
            <div class="audioBook none">
                <audio id="audio" style="display: none;">
                    <source src="./audio/annaasti.mp3" />
                </audio>

                <div class="custom-player">
                    <button id="rewindButton">
                        <i class="fas fa-undo"></i>
                    </button>
                    <button id="playButton">
                        <i class="fas fa-play"></i>
                    </button>
                    <button id="forwardButton">
                        <i class="fas fa-redo"></i>
                    </button>
                    <input type="range" id="progressBar" min="0" max="100" value="0">
                    <span id="currentTime">0:00</span> / <span id="duration">0:00</span>
                    <div class="volume-control">
                        <i class="fas fa-volume-up"></i>
                        <input type="range" id="volumeBar" min="0" max="1" step="0.01" value="1">
                    </div>
                    <select id="playbackRate">
                        <option value="0.5">0.5x</option>
                        <option value="1" selected>1x</option>
                        <option value="1.5">1.5x</option>
                        <option value="2">2x</option>
                    </select>
                </div>
            </div>
        </main>
    </div>
</body>

<script>
    const audio = document.getElementById('audio');
    const playButton = document.getElementById('playButton');
    const rewindButton = document.getElementById('rewindButton');
    const forwardButton = document.getElementById('forwardButton');
    const progressBar = document.getElementById('progressBar');
    const currentTimeDisplay = document.getElementById('currentTime');
    const durationDisplay = document.getElementById('duration');
    const volumeBar = document.getElementById('volumeBar');
    const playbackRate = document.getElementById('playbackRate');
    const playIcon = playButton.querySelector('i');
    const audioBtn = document.getElementById('audioBtn');
    const chitatBtn = document.getElementById('chitatBtn');

    function formatTime(seconds) {
        const mins = Math.floor(seconds / 60);
        const secs = Math.floor(seconds % 60);
        return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
    }

    function updateProgressBackground(range, value) {
        const percentage = value * 100;
        range.style.background = `linear-gradient(to right, #f22c1c ${percentage}%, lightgray ${percentage}%)`; // Yashil rang (to'ldirilgan)
    }


    playButton.addEventListener('click', () => {
        if (audio.paused) {
            audio.play();
            playIcon.className = 'fas fa-pause';
        } else {
            audio.pause();
            playIcon.className = 'fas fa-play';
        }
    });


    rewindButton.addEventListener('click', () => {
        audio.currentTime = Math.max(0, audio.currentTime - 15);
    });

    forwardButton.addEventListener('click', () => {
        audio.currentTime = Math.min(audio.duration, audio.currentTime + 15);
    });


    audio.addEventListener('timeupdate', () => {
        const progressValue = audio.currentTime / audio.duration;
        progressBar.value = progressValue * 100;
        currentTimeDisplay.textContent = formatTime(audio.currentTime);
        updateProgressBackground(progressBar, progressValue);
    });


    audio.addEventListener('loadedmetadata', () => {
        durationDisplay.textContent = formatTime(audio.duration);
    });


    progressBar.addEventListener('input', (e) => {
        const value = e.target.value / 100;
        audio.currentTime = value * audio.duration;
        updateProgressBackground(progressBar, value);
    });


    volumeBar.addEventListener('input', (e) => {
        const value = e.target.value;
        audio.volume = value;
        updateProgressBackground(volumeBar, value);
    });


    playbackRate.addEventListener('change', (e) => {
        audio.playbackRate = e.target.value;
    });

    audioBtn.onclick = () => {
        document.querySelector('.audioBook').classList.remove('none')
    }
    
    chitatBtn.onclick = () => {
        document.querySelector('.audioBook').classList.add('none')
    }


    updateProgressBackground(progressBar, 0);
    updateProgressBackground(volumeBar, 1);

</script>

<style>

</style>

</html>